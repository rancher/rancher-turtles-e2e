apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
kind: AzureManagedControlPlane
metadata:
  annotations:
    "helm.sh/resource-policy": keep
  name: "{{ .Values.cluster.name }}"
  namespace: default
spec:
  identityRef:
    apiVersion: infrastructure.cluster.x-k8s.io/v1beta1
    kind: AzureClusterIdentity
    name: cluster-identity
  location: { { .Values.cluster.location } }
  resourceGroupName: "{{ .Values.cluster.name }}"
  nodeResourceGroupName: "{{ .Values.cluster.name }}-nodes"
  sshPublicKey: null
  subscriptionID: { { .Values.azure.subscription_id } }
  version: { { .Values.cluster.kubernetesVersion } }
